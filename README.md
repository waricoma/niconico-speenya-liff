# niconico-speenya-liff

[https://github.com/chimerast/niconico-speenya](https://github.com/chimerast/niconico-speenya)  
&  
[https://developers.line.biz/en/docs/liff/](https://developers.line.biz/en/docs/liff/)

## Greeting message

    友達登録ありがとうございます!

    この Bot へ送られたトークは
    スライド上で流れる様に表示されます。

    ！設定

    !setting

    何れかをこの Bot へ送信することで
    設定ページやLikeボタンを操作できます。

    トークの匿名のアーカイブはこちらから閲覧できます。
    https://docs.google.com/spreadsheets/d//edit?usp=sharing

# [.commit_template](.commit_template)

```bash
git config commit.template .commit_template
```

by [https://github.com/carloscuesta/gitmoji-cli](https://github.com/carloscuesta/gitmoji-cli)
```bash
gitmoji -l
```

# process.env.SESSION_SECRET

```bash
node -e "console.log(require('crypto').randomBytes(8).toString('hex'));"
```

## DocumentationJS

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

- [defineProperty][1]
- [defineProperty][2]
- [defineProperty][3]
- [defineProperty][4]
- [defineProperty][5]
- [defineProperty][6]
- [EXP][7]
- [SERVER][8]
- [IO][9]
- [use][10]
- [Sequelize][11]
- [SEQUELIZE][12]
- [User][13]
- [\_socket][14]
- [SOCKET][15]
- [HEADERS][16]
- [ROUTER][17]
- [ROUTER][18]
- [ROUTER][19]
- [connected][20]
- [LINE_CONFIG][21]
- [LINE_CLIENT][22]
- [HANDLE_EVENT][23]
  - [Parameters][24]
- [eventToJSONText][25]
- [SIZE_ARR][26]
- [SIZE][27]
- [SIZE_ID][28]
- [SPEED_ARR][29]
- [SPEED][30]
- [SPEED_ID][31]
- [COLOR_ARR][32]
- [COLOR][33]
- [COLOR_ID][34]
- [REGEX_ARR][35]
- [ROUTERPositions][36]
- [ear][37]
  - [Parameters][38]
- [heard][39]
- [hears][40]
  - [Parameters][41]
- [IS_IT_ALL][42]
- [IS_IT_SUPPOSED][43]
- [TO_DO_ARR_LEN][44]

### defineProperty

**Meta**

- **version**: 1.0.0
- **author**: Motone Adachi (waritocomatta)

### defineProperty

**Meta**

- **version**: 1.0.0
- **author**: Motone Adachi (waritocomatta)

### defineProperty

**Meta**

- **version**: 1.0.0
- **author**: Motone Adachi (waritocomatta)

### defineProperty

**Meta**

- **version**: 1.0.0
- **author**: Motone Adachi (waritocomatta)

### defineProperty

**Meta**

- **version**: 1.0.0
- **author**: Motone Adachi (waritocomatta)

### defineProperty

Pushed LINE message reply task by 'hears' Function to this Array.

### EXP

Express

Type: [Object][45]

### SERVER

HTTP Server

Type: [Object][45]

### IO

Socket IO

Type: [Object][45]

### use

⚠ Must exec this when after 'io' was declared.<br>
Because 'lineWebHook' access parent's 'io'.

### Sequelize

Sequelize module.

Type: [Object][45]

### SEQUELIZE

Sequelize instance.

Type: [Object][45]

### User

Users model.

Type: [Object][45]

### \_socket

**Meta**

- **version**: 1.0.0
- **author**: Motone Adachi (waritocomatta)

### SOCKET

Socket IO client.

Type: [Object][45]

### HEADERS

Header.

### ROUTER

Express router.

Type: [Object][45]

### ROUTER

Express router.

Type: [Object][45]

### ROUTER

Message routing.

### connected

Is connected this server and receiver.js ? \*using Socket IO

Type: [boolean][46]

### LINE_CONFIG

Config for LINE SDK. ( from .env )

### LINE_CLIENT

LINE Client.

Type: [Object][45]

### HANDLE_EVENT

- **See: lineMsg.ear**

Event handler.

#### Parameters

- `event` **[Object][45]** 

### eventToJSONText

Line event object to JSON text for GAS api.

Type: [number][47]

### SIZE_ARR

Sizes

Type: [Array][48]&lt;[string][49]>

### SIZE

Size name

Type: [string][49]

### SIZE_ID

Size id

Type: [number][47]

### SPEED_ARR

Speeds

Type: [Array][48]&lt;[string][49]>

### SPEED

Speed name

Type: [string][49]

### SPEED_ID

Speed id

Type: [number][47]

### COLOR_ARR

Colors

Type: [Array][48]&lt;[string][49]>

### COLOR

Color name

Type: [string][49]

### COLOR_ID

Color id

Type: [number][47]

### REGEX_ARR

Message validation.

Type: [Array][48]&lt;[RegExp][50]>

### ROUTERPositions

- **See: ROUTER**

Router positions.

### ear

- **See: TO_DO_ARR**

Given event by parent's event handler.

#### Parameters

- `event` **[Object][45]** 

### heard

Is event matching in TO_DO_ARR.

Type: [boolean][46]

### hears

- **See: TO_DO_ARR**
- **See: REGEX_ARR**
- **See: ROUTER**

#### Parameters

- `regex` **[RegExp][50]** 
- `positions` **[Array][48]&lt;[string][49]>** 

### IS_IT_ALL

All routing.

Type: [boolean][46]

### IS_IT_SUPPOSED

Is position supposed.

Type: [boolean][46]

### TO_DO_ARR_LEN

TO_DO_ARR length.

Type: [number][47]

[1]: #defineproperty

[2]: #defineproperty-1

[3]: #defineproperty-2

[4]: #defineproperty-3

[5]: #defineproperty-4

[6]: #defineproperty-5

[7]: #exp

[8]: #server

[9]: #io

[10]: #use

[11]: #sequelize

[12]: #sequelize-1

[13]: #user

[14]: #_socket

[15]: #socket

[16]: #headers

[17]: #router

[18]: #router-1

[19]: #router-2

[20]: #connected

[21]: #line_config

[22]: #line_client

[23]: #handle_event

[24]: #parameters

[25]: #eventtojsontext

[26]: #size_arr

[27]: #size

[28]: #size_id

[29]: #speed_arr

[30]: #speed

[31]: #speed_id

[32]: #color_arr

[33]: #color

[34]: #color_id

[35]: #regex_arr

[36]: #routerpositions

[37]: #ear

[38]: #parameters-1

[39]: #heard

[40]: #hears

[41]: #parameters-2

[42]: #is_it_all

[43]: #is_it_supposed

[44]: #to_do_arr_len

[45]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[46]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[47]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[48]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[49]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[50]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/RegExp
